{"version":3,"sources":["services/phonebook.js","components/Filter.js","components/Form.js","components/Names.js","components/Messanger.js","App.js","index.js"],"names":["baseUrl","axios","get","entry","post","id","delete","put","Filter","props","onChange","handleFilterInput","value","filter","Form","onSubmit","addEntry","handleNameInput","newName","handleNumberInput","newNumber","type","Names","filterResults","persons","person","name","toLowerCase","includes","map","key","number","onClick","remove","length","Messanger","message","state","className","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","messageUpdater","setTimeout","useEffect","getEntries","phonebook","then","response","data","event","target","preventDefault","some","window","confirm","updatedEntry","find","catch","error","console","log","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3304aca2.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst baseUrl = '/api/persons';\r\n\r\nconst get = () => {\r\n\treturn axios.get(baseUrl);\r\n};\r\n\r\nconst create = (entry) => {\r\n\treturn axios.post(baseUrl, entry);\r\n};\r\n\r\nconst remove = (id) => {\r\n\treturn axios.delete(`${baseUrl}/${id}`);\r\n};\r\n\r\nconst update = (id, entry) => {\r\n\treturn axios.put(`${baseUrl}/${id}`, entry);\r\n};\r\n\r\nexport default { get, create, remove, update };\r\n","import React from 'react';\r\n\r\nfunction Filter(props) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tfilter contacts:{' '}\r\n\t\t\t<input onChange={props.handleFilterInput} value={props.filter} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nfunction Form(props) {\r\n\treturn (\r\n\t\t<form onSubmit={props.addEntry}>\r\n\t\t\t<div>\r\n\t\t\t\tname: <input onChange={props.handleNameInput} value={props.newName} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tnumber:{' '}\r\n\t\t\t\t<input onChange={props.handleNumberInput} value={props.newNumber} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type=\"submit\">add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n}\r\n\r\nexport default Form;\r\n","import React from 'react';\r\n\r\nfunction Names(props) {\r\n\tconst filtering = props.persons.filter(person =>\r\n\t\tperson.name.toLowerCase().includes(props.filter.toLowerCase())\r\n\t);\r\n\r\n\tconst filterResults = filtering.map(person => (\r\n\t\t<div key={person.name}>\r\n\t\t\t{person.name}: {person.number}{' '}\r\n\t\t\t<button\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tprops.remove(person);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tdelete\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t));\r\n\r\n\tconst filterResultCheck = () => {\r\n\t\tif (filterResults.length > 0) {\r\n\t\t\treturn filterResults;\r\n\t\t}\r\n\t\treturn <div>Nothing to display. Adjust filter settings.</div>;\r\n\t};\r\n\r\n\treturn filterResultCheck();\r\n}\r\n\r\nexport default Names;\r\n","import React from 'react';\r\n\r\nconst Messanger = ({ message, state }) => {\r\n\tif (state === 'inactive') {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn <div className={'message ' + state}>{message}</div>;\r\n};\r\n\r\nexport default Messanger;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport './index.css';\r\nimport phonebook from './services/phonebook';\r\nimport Filter from './components/Filter';\r\nimport Form from './components/Form';\r\nimport Names from './components/Names';\r\nimport Messanger from './components/Messanger';\r\n\r\nconst App = () => {\r\n\tconst [persons, setPersons] = useState([]);\r\n\tconst [newName, setNewName] = useState('');\r\n\tconst [newNumber, setNewNumber] = useState('');\r\n\tconst [filter, setFilter] = useState('');\r\n\tconst [message, setMessage] = useState({ message: '', state: 'inactive' });\r\n\r\n\tfunction messageUpdater(message, state) {\r\n\t\tsetMessage({ message, state });\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetMessage({ message: '', state: 'inactive' });\r\n\t\t}, 5000);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetEntries();\r\n\t}, []);\r\n\r\n\tconst getEntries = () => {\r\n\t\tphonebook.get().then((response) => {\r\n\t\t\tsetPersons(response.data);\r\n\t\t});\r\n\t};\r\n\r\n\tconst addEntry = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tif (persons.some((person) => person.name === newName)) {\r\n\t\t\tif (window.confirm(`${newName} already on the list. Do you want to update phone number?`)) {\r\n\t\t\t\tconst updatedEntry = {\r\n\t\t\t\t\t...persons.find((person) => person.name === newName),\r\n\t\t\t\t\tnumber: newNumber,\r\n\t\t\t\t};\r\n\t\t\t\tphonebook\r\n\t\t\t\t\t.update(updatedEntry.id, updatedEntry)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tsetPersons(persons.map((person) => (person.id === response.data.id ? updatedEntry : person)));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\tmessageUpdater(\r\n\t\t\t\t\t\t\t`Updating contact ${newName} failed. ${error.response.data.error ? error.response.data.error : 'Please refresh the page.'}`,\r\n\t\t\t\t\t\t\t'error'\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tsetNewName('');\r\n\t\t\t\t\t\tsetNewNumber('');\r\n\t\t\t\t\t\tgetEntries();\r\n\t\t\t\t\t});\r\n\t\t\t\tmessageUpdater(`Number updated for ${newName}.`, 'success');\r\n\t\t\t\tsetNewName('');\r\n\t\t\t\tsetNewNumber('');\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst newEntry = { name: newName, number: newNumber };\r\n\t\tphonebook\r\n\t\t\t.create(newEntry)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tsetPersons(persons.concat(response.data));\r\n\t\t\t\tmessageUpdater(`Contact \"${newName}\" was added.`, 'success');\r\n\t\t\t\tsetNewName('');\r\n\t\t\t\tsetNewNumber('');\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tconsole.log(error.response.data.error);\r\n\t\t\t\tmessageUpdater(`Error occurred: ${error.response.data.error}`, 'error');\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst removeEntry = (person) => {\r\n\t\tif (window.confirm(`Are you sure you want to delete ${person.name} from your phonebook?`)) {\r\n\t\t\tphonebook.remove(person.id).then(() => getEntries());\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleNameInput = (event) => {\r\n\t\tsetNewName(event.target.value);\r\n\t};\r\n\r\n\tconst handleNumberInput = (event) => {\r\n\t\tsetNewNumber(event.target.value);\r\n\t};\r\n\r\n\tconst handleFilterInput = (event) => {\r\n\t\tsetFilter(event.target.value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Phonebook</h2>\r\n\t\t\t<Filter handleFilterInput={handleFilterInput} filter={filter} />\r\n\t\t\t<br />\r\n\t\t\t<Messanger message={message.message} state={message.state} />\r\n\t\t\t<Form addEntry={addEntry} handleNameInput={handleNameInput} newName={newName} handleNumberInput={handleNumberInput} newNumber={newNumber} />\r\n\t\t\t<h2>Numbers</h2>\r\n\t\t\t<Names persons={persons} filter={filter} remove={removeEntry} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}